
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{hw7}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \subsection{REI602M Machine Learning - Homework
7}\label{rei602m-machine-learning---homework-7}

\subsubsection{\texorpdfstring{Due: \emph{Monday}
4.3.2019}{Due: Monday 4.3.2019}}\label{due-monday-4.3.2019}

\textbf{Objectives}: Visualization with principal component analysis and
t-SNE. \(k\)-means clustering

\textbf{Name}: Emil Gauti Friðriksson, \textbf{email: } egf3@hi.is,
\textbf{collaborators:} (if any)

    1. {[}Visualization, 40 points{]} In this problem you will use PCA and
t-SNE to visualize a high-dimensional data set derived from 300
Wikipedia articles selected from few broad groups of topics. For each
Wikipedia article, the most common words such as 'an' and 'the' were
removed and the rest of the words run through a stemming algorithm
(converting e.g. 'longer' and 'longest' to 'long'). This resulted in a
dictionary of all the words that occur in the 300 articles. The total
number of words was 1000. A 1000-element histogram vector was then
constructed for each article, where element \(j\) is the frequency of
word \(j\) in the document, i.e. a 300 by 1000 matrix.

The Numpy file \texttt{wikipedia\_corpus.npz} contains three arrays
which you access as follows

\texttt{python\ import\ numpy\ as\ np\ data=np.load(\textquotesingle{}wikipedia\_corpus.npz\textquotesingle{})\ dictionary\ =\ data{[}"dictionary"{]}\ article\_titles\ =\ data{[}"article\_titles"{]}\ article\_histograms\ =\ data{[}"article\_histograms"{]}\ \#\ Data\ matrix}

\begin{enumerate}
\def\labelenumi{\alph{enumi})}
\item
  {[}20 points{]} Use PCA to create a 2D figure where each article in
  the figure is represent by a short string based on its title.
\item
  {[}10 points{]} Use the t-SNE code provided with the assignment to
  create a similar figure to the one in a). You may need to try a few
  different values of the perplexity parameter before you get a nice
  projection (include only the best one in your report). Can you
  "squeeze" more titles into this figure than the one in a)? What can
  you infer from your visualization?
\item
  {[}10 points{]} Use t-SNE to project the data to 3 dimensions. Use the
  first two dimensions as text coordinates but use the 3rd coordinate to
  color code the article title. Is this figure more informative than the
  one in b) in your opinion?
\end{enumerate}

\emph{Comments}:

\begin{enumerate}
\def\labelenumi{\arabic{enumi})}
\item
  Creating informative figures usually takes some effort so expect to
  spend some time tinkering with your figure. See
  http://www.cs.toronto.edu/\textasciitilde{}hinton/turian.png for an
  example of how your figure could look like.
\item
  You should try to use as large figure as possible, use
  \texttt{plt.figure(figsize=(xsize,ysize))}
\item
  You can only display titles of 100 - 150 articles in the figure,
  otherwise you are likely to end up with a black mess.
\item
  Some of the titles are quite long and you should therefore truncate
  them somehow, e.g. by keeping only the two first words in the title.
  Useful Python's string \texttt{split} and \texttt{join} methods may
  come in handy. Use \texttt{plt.text} to display text in the figure.
\item
  For the color figure in c) see e.g.
  https://lvdmaaten.github.io/tsne/examples/semantic\_tsne.jpg
\item
  A simple way to convert coordinate values into a color value is to map
  them into an integer betwen 0 and 9 and use the \texttt{color=Cx}
  keyword argument in \texttt{plt.text} (x represents an integer between
  0 and 9).
\item
  Use PCA from scikit and the t-SNE code provided with this assignment
  (taken from https://lvdmaaten.github.io/tsne/)
\end{enumerate}

    \textbf{(a)}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{decomposition} \PY{k}{import} \PY{n}{PCA}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{StandardScaler}
         \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
         \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
         
         \PY{n}{data}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{load}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wikipedia\PYZus{}corpus.npz}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{dictionary} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{dictionary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
         \PY{n}{article\PYZus{}titles} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{article\PYZus{}titles}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
         \PY{n}{article\PYZus{}histograms} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{article\PYZus{}histograms}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{c+c1}{\PYZsh{} Data matrix}
         \PY{n}{n}\PY{p}{,}\PY{n}{p} \PY{o}{=}\PY{n}{article\PYZus{}histograms}\PY{o}{.}\PY{n}{shape}
         \PY{n}{at\PYZus{}red} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{n}{article\PYZus{}titles}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{n}{at\PYZus{}red}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{at\PYZus{}red}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{X} \PY{o}{=} \PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{article\PYZus{}histograms}\PY{p}{)}
         \PY{n}{pca} \PY{o}{=} \PY{n}{PCA}\PY{p}{(}\PY{n}{n\PYZus{}components}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{pca}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X}\PY{p}{)}
         \PY{n}{Xred} \PY{o}{=} \PY{n}{pca}\PY{o}{.}\PY{n}{transform}\PY{p}{(}\PY{n}{X}\PY{p}{)}
         \PY{n}{teljari}\PY{o}{=}\PY{l+m+mi}{0}
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mf}{0.7}\PY{p}{,}\PY{l+m+mf}{0.7}\PY{p}{)}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{n}{teljari} \PY{o}{=} \PY{n}{teljari}\PY{o}{+}\PY{l+m+mi}{1}
             \PY{k}{if} \PY{n}{teljari}\PY{o}{\PYZpc{}}\PY{k}{3}==0:
                 \PY{n}{plt}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{Xred}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,}\PY{n}{Xred}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}\PY{n}{at\PYZus{}red}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}\PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{7}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{off}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_4_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{(b)}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{k+kn}{from} \PY{n+nn}{tsne} \PY{k}{import} \PY{n}{tsne}
         
         \PY{n}{yfit} \PY{o}{=} \PY{n}{tsne}\PY{p}{(}\PY{n}{article\PYZus{}histograms}\PY{p}{,}\PY{n}{no\PYZus{}dims}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{perplexity}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}\PY{c+c1}{\PYZsh{}25 er fínt og 27 og 17}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Preprocessing the data using PCA{\ldots}
Computing pairwise distances{\ldots}
Computing P-values for point 0 of 300{\ldots}
Mean value of sigma: 0.295494
Iteration 100: error is 13.263823
Iteration 200: error is 0.469110
Iteration 300: error is 0.432354
Iteration 400: error is 0.423778
Iteration 500: error is 0.419891
Iteration 600: error is 0.417584
Iteration 700: error is 0.416007
Iteration 800: error is 0.414849
Iteration 900: error is 0.413919
Iteration 1000: error is 0.413168

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mf}{0.2}\PY{p}{,}\PY{l+m+mf}{0.2}\PY{p}{)}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{n}{teljari} \PY{o}{=} \PY{n}{teljari}\PY{o}{+}\PY{l+m+mi}{1}
             \PY{k}{if} \PY{n}{teljari}\PY{o}{\PYZpc{}}\PY{k}{3}==0:
                 \PY{n}{plt}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{yfit}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,}\PY{n}{yfit}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}\PY{n}{at\PYZus{}red}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}\PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{7}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{off}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_7_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Þessi mynd er frábrugðin fyrri myndinni á þann hátt að hún myndar
greinilegri klasa(e. clusters) þar sem innan hverrs klasa eru greinar
sem eru svipaðar. Við fáum t.d. einn klasa af pókemon greinum og annan
klasa af pólitík.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{c+c1}{\PYZsh{}Use t\PYZhy{}SNE to project the data to 3 dimensions. Use the first two }
         \PY{c+c1}{\PYZsh{}dimensions as text coordinates but use the 3rd coordinate to color code the article title. }
         \PY{c+c1}{\PYZsh{}Is this figure more informative than the one in b) in your opinion?}
         \PY{n}{yfit3} \PY{o}{=} \PY{n}{tsne}\PY{p}{(}\PY{n}{article\PYZus{}histograms}\PY{p}{,}\PY{n}{no\PYZus{}dims}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{perplexity}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Preprocessing the data using PCA{\ldots}
Computing pairwise distances{\ldots}
Computing P-values for point 0 of 300{\ldots}
Mean value of sigma: 0.295494
Iteration 100: error is 12.653724
Iteration 200: error is 0.422997
Iteration 300: error is 0.392295
Iteration 400: error is 0.384237
Iteration 500: error is 0.379745
Iteration 600: error is 0.377035
Iteration 700: error is 0.375087
Iteration 800: error is 0.373569
Iteration 900: error is 0.372354
Iteration 1000: error is 0.371366

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{t3} \PY{o}{=} \PY{n}{yfit3}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{]}
         \PY{n}{colors} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{9}\PY{o}{*}\PY{p}{(}\PY{p}{(}\PY{n}{t3}\PY{o}{\PYZhy{}}\PY{n}{t3}\PY{o}{.}\PY{n}{min}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{n}{t3}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n}{t3}\PY{o}{.}\PY{n}{min}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{int}\PY{p}{)}
         \PY{n}{colstr} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{C}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{n}\PY{p}{)} \PY{k}{for} \PY{n}{n} \PY{o+ow}{in} \PY{n}{colors}\PY{p}{]}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mf}{0.2}\PY{p}{,}\PY{l+m+mf}{0.2}\PY{p}{)}\PY{p}{)}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
             \PY{n}{teljari} \PY{o}{=} \PY{n}{teljari}\PY{o}{+}\PY{l+m+mi}{1}
             \PY{k}{if} \PY{n}{teljari}\PY{o}{\PYZpc{}}\PY{k}{3}==0:
                 \PY{n}{plt}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{yfit3}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,}\PY{n}{yfit3}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}\PY{n}{at\PYZus{}red}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}\PY{n}{color}\PY{o}{=}\PY{n}{colstr}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}\PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{9}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axis}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{off}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_10_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Hér fáum við þriðju víddina sem lit á kortinu og það gefur okkur
töluvert meiri upplýsingar hvernig tölvan vill flokka greinarnar.
Vandamálið er þó að litirnir eru svolítið binary og gefa ekki góða mynd
af því hvaða litir eru 'nær' hver öðrum.

    2. {[}Topic discovery via \(k\)-means, 30 points{]} Here you are to use
the \(k\)-means algorithm to cluster the data from problem 1.

Run \(k\)-means with different values of \(k\), e.g. \(k=2,5,8\) and
investigate your results by looking at the words and article titles
associated with each centroid. Feel free to visit Wikipedia if an
article's content is unclear from its title. On the basis of your tests,
select a final value of \(k\) and run \(k\)-means again. Give a short
description of the topics your clustering discovered along with the 5
most common words from each topic. If the topics do not make sense pick
another value of \(k\).

\emph{Comments}:

\begin{enumerate}
\def\labelenumi{\arabic{enumi})}
\item
  When you run the \(k\)-means implementation in
  \texttt{sklearn.cluster.KMeans} it initializes the centroids by
  randomly assigning the data points to \(k\) groups and taking the
  \(k\) representatives as the means of the groups. (This means that if
  you run the function twice, with the same data, you might get diﬀerent
  results.) The cluster centers and labels can be accessed via the
  attributes \texttt{cluster\_centers\_} and \texttt{labels\_}. The
  attribute \texttt{labels\_} contains the index of each vector's
  closest centroid (labels start from zero), so if the 30th entry in
  \texttt{labels} is 7, then the 30th vector's closest centroid is the
  7th entry in \texttt{centroids} (indexing starts from zero).
\item
  There are many ways to explore your results. For example, you could
  print the titles of all articles in a cluster. Alternatively, you
  could ﬁnd a topic's most common words by ordering \texttt{dictionary}
  by the size of its centroid's entries. A larger entry for a word
  implies it was more common in articles from that topic.
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}93}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{cluster} \PY{k}{import} \PY{n}{KMeans}
         
         \PY{n}{kk} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{]}
         \PY{k}{for} \PY{n}{k} \PY{o+ow}{in} \PY{n}{kk}\PY{p}{:}
             \PY{n}{kmean} \PY{o}{=} \PY{n}{KMeans}\PY{p}{(}\PY{n}{n\PYZus{}clusters} \PY{o}{=} \PY{n}{k}\PY{p}{)}
             \PY{n}{kmean}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X}\PY{p}{)}
             \PY{n}{mid} \PY{o}{=} \PY{n}{kmean}\PY{o}{.}\PY{n}{cluster\PYZus{}centers\PYZus{}}
             \PY{n}{lab} \PY{o}{=} \PY{n}{kmean}\PY{o}{.}\PY{n}{labels\PYZus{}}    
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{*}\PY{l+m+mi}{40}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fjöldi klasa:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{k}\PY{p}{)}
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{*}\PY{l+m+mi}{40}\PY{p}{)}
             \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{k}\PY{p}{)}\PY{p}{:}
                 \PY{n}{maxToMin} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{argsort}\PY{p}{(}\PY{n}{mid}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
                 \PY{n}{words} \PY{o}{=} \PY{n}{dictionary}\PY{p}{[}\PY{n}{maxToMin}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{5}\PY{p}{]}\PY{p}{]}\PY{c+c1}{\PYZsh{}algengust orð}
                 \PY{n}{fjoldi} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{lab}\PY{o}{==}\PY{n}{i}\PY{p}{)}\PY{c+c1}{\PYZsh{}fjöldi í cluster}
                 \PY{n}{greinar} \PY{o}{=} \PY{n}{article\PYZus{}titles}\PY{p}{[}\PY{n}{lab}\PY{o}{==}\PY{n}{i}\PY{p}{]}\PY{c+c1}{\PYZsh{}greinar í cluster}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Klasi nr:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{i}\PY{p}{)}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{fjöldi staka:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fjoldi}\PY{p}{)}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Algengustu orð:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{words}\PY{p}{)}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Greinar innan klasans:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{greinar}\PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{randint}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{greinar}\PY{p}{)}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{]}\PY{p}{)}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                 
                 
             
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
----------------------------------------
Fjöldi klasa: 2
----------------------------------------
Klasi nr: 0
fjöldi staka: 63
Algengustu orð: ['international' 'nations' 'member' 'organization' 'policy']
Greinar innan klasans: ['Convention on the Rights of Persons with Disabilities'
 'Organization for Security and Co-operation in Europe'
 'United Nations General Assembly' 'United Nations Trusteeship Council'
 'League of Nations']


Klasi nr: 1
fjöldi staka: 237
Algengustu orð: ['form' 'typically' 'lower' 'surface' 'relatively']
Greinar innan klasans: ['Hurricane Katrina' 'Solarimeter' 'Mew (Pokémon)'
 'A Sunday Afternoon on the Island of La Grande Jatte'
 'Telecommunications network']


----------------------------------------
Fjöldi klasa: 5
----------------------------------------
Klasi nr: 0
fjöldi staka: 55
Algengustu orð: ['surface' 'weather' 'winds' 'moisture' 'atmospheric']
Greinar innan klasans: ['Greenhouse gas' 'Little Ice Age' 'Radiosonde' 'Coriolis effect'
 'Meteorology']


Klasi nr: 1
fjöldi staka: 47
Algengustu orð: ['art' 'painting' 'painted' 'impressionist' 'paintings']
Greinar innan klasans: ['A Sunday Afternoon on the Island of La Grande Jatte' 'Portrait'
 'Paul Signac' 'A Bar at the Folies-Bergère' 'Mary Cassatt']


Klasi nr: 2
fjöldi staka: 51
Algengustu orð: ['communications' 'signal' 'transmitted' 'bandwidth' 'frequency']
Greinar innan klasans: ['Analog signal' 'Time-division multiplexing' 'Internet protocol suite'
 'Telecommunications network' 'Modulation']


Klasi nr: 3
fjöldi staka: 84
Algengustu orð: ['pokemon' 'games' 'game' 'player' 'battle']
Greinar innan klasans: ['Ice accretion indicator' 'Solarimeter' 'Stevenson screen'
 'Pokémon 4Ever' 'Pokémon (anime)']


Klasi nr: 4
fjöldi staka: 63
Algengustu orð: ['international' 'nations' 'member' 'organization' 'policy']
Greinar innan klasans: ['Multilateral Investment Guarantee Agency'
 'International Seabed Authority' 'United Nations General Assembly'
 'Organisation for the Prohibition of Chemical Weapons'
 'United Nations Trusteeship Council']


----------------------------------------
Fjöldi klasa: 8
----------------------------------------
Klasi nr: 0
fjöldi staka: 2
Algengustu orð: ['damage' 'severe' 'cause' 'events' 'winds']
Greinar innan klasans: ['Severe weather' 'Severe weather' 'Severe weather' 'Severe weather'
 'Severe weather']


Klasi nr: 1
fjöldi staka: 52
Algengustu orð: ['signal' 'communications' 'transmitted' 'bandwidth' 'communication']
Greinar innan klasans: ['Audio power amplifier' 'Receiver (radio)' 'Audio power amplifier'
 'Analog signal' 'Transmission medium']


Klasi nr: 2
fjöldi staka: 66
Algengustu orð: ['international' 'nations' 'organization' 'member' 'general']
Greinar innan klasans: ['World Bank Group' 'International Refugee Organisation'
 'World Intellectual Property Organization' 'United Nations Secretariat'
 'International Development Association']


Klasi nr: 3
fjöldi staka: 92
Algengustu orð: ['surface' 'air' 'weather' 'water' 'temperature']
Greinar innan klasans: ['Little Ice Age' 'Ice accretion indicator' 'Ice accretion indicator'
 'Windsock' 'Human impact on the environment']


Klasi nr: 4
fjöldi staka: 51
Algengustu orð: ['art' 'painting' 'paintings' 'painted' 'impressionist']
Greinar innan klasans: ['Fauvism' 'Félix Fénéon' 'Frédéric Bazille' 'Smoke signal'
 'Luncheon of the Boating Party']


Klasi nr: 5
fjöldi staka: 1
Algengustu orð: ['performance' 'respectively' 'compared' 'effect' 'objects']
Greinar innan klasans: ['Contrast effect' 'Contrast effect' 'Contrast effect' 'Contrast effect'
 'Contrast effect']


Klasi nr: 6
fjöldi staka: 35
Algengustu orð: ['pokemon' 'games' 'game' 'player' 'anime']
Greinar innan klasans: ['Satoshi Tajiri' 'Pokémon' 'Satoshi Tajiri' 'Eevee' 'Pokémon']


Klasi nr: 7
fjöldi staka: 1
Algengustu orð: ['coriolis' 'ball' 'rotating' 'force' 'rotation']
Greinar innan klasans: ['Coriolis effect' 'Coriolis effect' 'Coriolis effect' 'Coriolis effect'
 'Coriolis effect']



    \end{Verbatim}

    Við viljum helst ekki mynda klasa sem hafa fá stök. Við sjáum að þegar
\(k=8\) fáum við þrjá klasa sem hafa færri en 5 stök, það bendir til
þess að við séum að of-flokka. þegar \(k=2\) fáum við annan klasann
töluvert stærri en hinn þar sem sá minni inniheldur að mestu greinar um
pólitík. Ég dreg þá ályktun að þegar \(k=5\) þá höfum við bestu
skiptinguna því þar eru klasarnir að mestu jafn stórir og orðin og
greinarnar stemma saman.

Það lítur út fyrir að vera að flokkarnir fimm séu: pokémon, frönsk list,
pólitík/alþjóðalög, veður og rafmagnsverkfræði/samskiptatækni.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}107}]:} \PY{n}{k} \PY{o}{=} \PY{l+m+mi}{5}
          \PY{n}{kmean} \PY{o}{=} \PY{n}{KMeans}\PY{p}{(}\PY{n}{n\PYZus{}clusters} \PY{o}{=} \PY{n}{k}\PY{p}{)}
          \PY{n}{kmean}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X}\PY{p}{)}
          \PY{n}{mid} \PY{o}{=} \PY{n}{kmean}\PY{o}{.}\PY{n}{cluster\PYZus{}centers\PYZus{}}
          \PY{n}{lab} \PY{o}{=} \PY{n}{kmean}\PY{o}{.}\PY{n}{labels\PYZus{}}    
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{*}\PY{l+m+mi}{40}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fjöldi klasa:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{k}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{*}\PY{l+m+mi}{40}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{k}\PY{p}{)}\PY{p}{:}
              \PY{n}{maxToMin} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{argsort}\PY{p}{(}\PY{n}{mid}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
              \PY{n}{words} \PY{o}{=} \PY{n}{dictionary}\PY{p}{[}\PY{n}{maxToMin}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{5}\PY{p}{]}\PY{p}{]}\PY{c+c1}{\PYZsh{}algengust orð}
              \PY{n}{fjoldi} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{lab}\PY{o}{==}\PY{n}{i}\PY{p}{)}\PY{c+c1}{\PYZsh{}fjöldi í cluster}
              \PY{n}{greinar} \PY{o}{=} \PY{n}{article\PYZus{}titles}\PY{p}{[}\PY{n}{lab}\PY{o}{==}\PY{n}{i}\PY{p}{]}\PY{c+c1}{\PYZsh{}greinar í cluster}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Klasi nr:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{i}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{fjöldi staka:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fjoldi}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Algengustu orð:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{words}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Greinar innan klasans:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{greinar}\PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{randint}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{greinar}\PY{p}{)}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{]}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
----------------------------------------
Fjöldi klasa: 5
----------------------------------------
Klasi nr: 0
fjöldi staka: 55
Algengustu orð: ['signal' 'communications' 'transmitted' 'transmit' 'communication']
Greinar innan klasans: ['Wireless' 'Amplitude modulation' 'Wide area network' 'Wide area network'
 'Guglielmo Marconi']


Klasi nr: 1
fjöldi staka: 97
Algengustu orð: ['surface' 'water' 'air' 'weather' 'winds']
Greinar innan klasans: ['Numerical weather prediction' 'Albedo' 'Mesoscale meteorology'
 'Weather balloon' 'Monsoon']


Klasi nr: 2
fjöldi staka: 45
Algengustu orð: ['art' 'painting' 'paintings' 'painted' 'impressionist']
Greinar innan klasans: ['Impressionism' 'Georges Seurat' 'Paris Street; Rainy Day'
 'Bal du moulin de la Galette' 'Paris Street; Rainy Day']


Klasi nr: 3
fjöldi staka: 66
Algengustu orð: ['international' 'nations' 'organization' 'member' 'general']
Greinar innan klasans: ['Organisation for the Prohibition of Chemical Weapons'
 'United Nations Convention on the Law of the Sea'
 'International Tribunal for the Law of the Sea'
 'Headquarters of the United Nations'
 'International Civil Aviation Organization']


Klasi nr: 4
fjöldi staka: 37
Algengustu orð: ['pokemon' 'games' 'game' 'player' 'anime']
Greinar innan klasans: ['Pokémon Black and White' 'Pokémon Ruby and Sapphire' 'Pokémon Emerald'
 'Pokémon' 'Pokémon Emerald']



    \end{Verbatim}

    Hér fyrir ofan hef ég keyrt \(k=5\) aftur og fæ svipaðar niðurstöður og
á undan.

    3. {[}Image compresssion with \(k\)-means, 30 points{]} In this problem
which is from Andrew Ng at Stanford, you will apply the \(k\)-means
algorithm to lossy image compression, by reducing the number of colors
used in an image. You will be using the files
\texttt{mandrill-small.tiff} and \texttt{mandrill-large.tiff}.

The \texttt{mandrill-large.tiff} file contains a 512x512 image of a
mandrill represented in 24- bit color. This means that, for each of the
262144 pixels in the image, there are three 8-bit numbers (each ranging
from 0 to 255) that represent the red, green, and blue intensity values
for that pixel. The straightforward representation of this image
therefore takes about 262144×3 = 786432 bytes (a byte being 8 bits). To
compress the image, we will use \(k\)-means to reduce the image to
\(k = 16\) colors. More specifically, each pixel in the image is
considered a point in the three-dimensional \((r, g, b)\)-space. To
compress the image, we will cluster these points in color-space into 16
clusters, and replace each pixel with the closest cluster centroid.

Follow the instructions below.

To load the image, type
\texttt{python\ \ \ \ from\ matplotlib.image\ import\ imread.\ \ \ \ import\ matplotlib.pyplot\ as\ plt\ \ \ \ A\ =\ imread(\textquotesingle{}mandrill-large.tiff\textquotesingle{})}

Now, \texttt{A} is a "three dimensional" matrix, and
\texttt{A{[}:,:,0{]}}, \texttt{A{[}:,:,1{]}} and \texttt{A{[}:,:,2{]}}
are \(512 \times 512\) arrays that respectively contain the red, green
and blue values for each pixel. To display the image, enter
\texttt{python\ \ \ \ plt.imshow(A);\ \ \ \ plt.show()\ to\ display\ the\ image}

Note: The \texttt{imshow} function expects the red, green and blue
values to be between 0 and 1. You should start by scaling all
\((R,G,B)\) values by dividing by 255, otherwise you may end up with
incorrect color scheme in the reconstructed image below.

Since the large image has 262144 pixels and would take a while to
cluster, we will instead run vector quantization on a smaller image.
Repeat the above with \texttt{mandrill-small.tiff}. Treating each
pixel's \((r, g, b)\) values as an element of \(R^3\). Run \(k\)-means
with 16 clusters on the pixel data from this smaller image.

Take the matrix \texttt{A} from \texttt{mandrill-large.tiff}, and
replace each pixel's \((r, g, b)\) values with the value of the closest
cluster centroid. Display the new image, and compare it visually to the
original image.

If we represent the image with these reduced (16) colors, by
(approximately) what factor have we compressed the image?

\emph{Comment}: Use the \(k\)-means implementation in
\texttt{sklearn.cluster.KMeans}.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}185}]:} \PY{k+kn}{from} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{image} \PY{k}{import} \PY{n}{imread}
          \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
          \PY{n}{A} \PY{o}{=} \PY{n}{imread}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mandrill\PYZhy{}large.tiff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{B} \PY{o}{=} \PY{n}{imread}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mandrill\PYZhy{}small.tiff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{n} \PY{o}{=} \PY{n}{A}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
          \PY{n}{p} \PY{o}{=} \PY{n}{A}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}
          \PY{n}{A\PYZus{}rgb} \PY{o}{=} \PY{n}{A}\PY{o}{.}\PY{n}{reshape}\PY{p}{(}\PY{n}{A}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{*}\PY{n}{A}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{)} \PY{c+c1}{\PYZsh{}rgb transform}
          
              
          
          \PY{n}{A\PYZus{}km} \PY{o}{=} \PY{n}{KMeans}\PY{p}{(}\PY{n}{n\PYZus{}clusters}\PY{o}{=}\PY{l+m+mi}{16}\PY{p}{)}
          \PY{n}{A\PYZus{}km}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{A\PYZus{}rgb}\PY{p}{)}
          
          \PY{n}{clusters} \PY{o}{=} \PY{n}{A\PYZus{}km}\PY{o}{.}\PY{n}{cluster\PYZus{}centers\PYZus{}} \PY{c+c1}{\PYZsh{}Litir í rgb}
          \PY{n}{labels} \PY{o}{=} \PY{n}{A\PYZus{}km}\PY{o}{.}\PY{n}{labels\PYZus{}}  \PY{c+c1}{\PYZsh{}vigur}
          \PY{n}{labels} \PY{o}{=} \PY{n}{labels}\PY{o}{.}\PY{n}{reshape}\PY{p}{(}\PY{n}{n}\PY{p}{,}\PY{n}{p}\PY{p}{)}\PY{p}{;} \PY{c+c1}{\PYZsh{}512*512 fylki með labels}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}190}]:} \PY{n}{A\PYZus{}compressed} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{zeros}\PY{p}{(}\PY{p}{(}\PY{n}{n}\PY{p}{,}\PY{n}{p}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{n}\PY{p}{)}\PY{p}{:}
              \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{p}\PY{p}{)}\PY{p}{:}
                  \PY{n}{A\PYZus{}compressed}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{n}{j}\PY{p}{,}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{clusters}\PY{p}{[}\PY{n}{labels}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{n}{j}\PY{p}{]}\PY{p}{,}\PY{p}{:}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{int}\PY{p}{)}\PY{o}{/}\PY{l+m+mi}{255}
                  
          \PY{c+c1}{\PYZsh{} plottum}
          \PY{n}{A} \PY{o}{=} \PY{n}{A}\PY{o}{/}\PY{l+m+mi}{255}
          \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{imshow}\PY{p}{(}\PY{n}{A}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Original}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          
          \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{imshow}\PY{p}{(}\PY{n}{A\PYZus{}compressed}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Compressed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_19_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Upprunalega myndin samanstendur úr
\(N_{lossless} = 512\cdot 512\cdot 256\cdot 3 = 201326592\) mögulegum
uppröðunum. Sú seinni inniheldur aðeins
\(N_{compressed} = 512\cdot 512\cdot 16 \cdot 3= 12582912\) mögulegar
uppraðanir. þetta gefur okkur hlutfallið:
\(\frac{N_{compressed}}{N_{lossless}} = 0.0625 = \frac{1}{16}\).


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
